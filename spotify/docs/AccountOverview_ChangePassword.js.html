<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: AccountOverview/ChangePassword.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: AccountOverview/ChangePassword.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Change Password Component
 */
import { Redirect } from "react-router-dom";

import React, { Component } from "react";
import { Col, Button, Row } from "reactstrap";
import { Control, Form, Errors } from "react-redux-form";
import { Label } from "reactstrap";
const required = (val) => val &amp;&amp; val.length;
const minLength = (len) => (val) => val &amp;&amp; val.length >= len;
const confPass = (val) => (val2) => val === val2;

class ChangePass extends Component {
  /**@param{tempId} is the ID of the incoming user
   * @param{Password} is the new password entered by the user
   * @param{ConfirmPassword} for the checking of matching
   */
  constructor(props) {
    super(props);
    this.state = {
      Password: "",
      CurrentPassword: "",
      ConfirmPassword: "",
      tempId: this.props.data_be.data_be._id,
    };
    this.handleChangePassword = this.handleChangePassword.bind(this);
    // this.handleData = this.handleData.bind(this);
    this.handleConfirmPassword = this.handleConfirmPassword.bind(this);
  }
  /**
   * HandleData is for getting the current password of the user
   */
  // handleData = () => {
  //   let temp;
  //   this.props.data.data.map((data) => {
  //     if (data.id === this.props.id.id) {
  //       temp = data.password;
  //     }
  //   });
  //   return temp;
  // };
  /**
   * Posting the changed Password
   */
  handleChangePassword = (values) => {
    this.props.resetChangePasswordForm();
    // const temp = this.handleData();
    // if (temp === values.Currentpassword) {
    //   const post = values.password;

    this.props.PostPassword(values.password, this.props.data_be.data_be._id);
    // } else alert("Password is Incorrect");
  };
  /**
   * Checking the same password
   */
  handleConfirmPassword = (event) => {
    this.setState({
      Password: event.target.value,
    });
  };

  render() {
    let redirect = "";
    if (this.state.tempId === "") {
      redirect = &lt;Redirect to="/signup" />;
    }

    return (
      &lt;div className="container">
        {redirect}
        &lt;h1 className="headerGreen">Change Your Password&lt;/h1>
        &lt;hr />
        &lt;Form
          model="changepassword"
          onSubmit={(values) => this.handleChangePassword(values)}
        >
          &lt;Row className="form-group">
            &lt;Col xs={12} md={{ size: 6, offset: 3 }}>
              &lt;Label>New Password&lt;/Label>
              &lt;Control.text
                onChange={this.handleConfirmPassword}
                type="password"
                className="form-control"
                model=".password"
                placeholder=" New Password"
                id="password"
                name="password"
                validators={{
                  required,
                  minLength: minLength(7),
                }}
              />
              &lt;Row className="ml-2">
                &lt;Errors
                  className="text-danger"
                  model=".password"
                  show="touched"
                  messages={{
                    required: "Enter your password to continue, ",
                    minLength: "Your password is too short",
                  }}
                />
              &lt;/Row>
            &lt;/Col>
          &lt;/Row>{" "}
          &lt;Row className="form-group">
            &lt;Col xs={12} md={{ size: 6, offset: 3 }}>
              &lt;Label>Confirm Password&lt;/Label>
              &lt;Control.text
                type="password"
                className="form-control"
                model=".confirmpassword"
                placeholder="Confirm Password"
                id="confirmPassword"
                name="confirmPassword"
                validators={{
                  required,
                  confPass: confPass(this.state.Password),
                }}
              />
              &lt;Row className="ml-2">
                &lt;Errors
                  className="text-danger"
                  model=".confirmpassword"
                  show="touched"
                  messages={{
                    confPass: "Password does not match",
                  }}
                />
              &lt;/Row>
            &lt;/Col>
          &lt;/Row>
          &lt;Row className="form-group">
            &lt;Col xs={12} md={{ size: 6, offset: 3 }}>
              &lt;Button type="submit" className="signupbtn">
                Change Password
              &lt;/Button>
            &lt;/Col>
          &lt;/Row>
        &lt;/Form>
      &lt;/div>
    );
  }
}

export default ChangePass;
//  &lt;Row className="form-group">
// &lt;Col xs={12} md={{ size: 6, offset: 3 }}>
// &lt;Label>Current Password&lt;/Label>
// &lt;Control.text
//   type="password"
//   className="form-control"
//   model=".Currentpassword"
//   placeholder="Password"
//   id="Currentpassword"
//   name="Currentpassword"
//   validators={{
//     required,
//   }}
// />
// &lt;/Col>
// &lt;/Row>
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AccountOverview.html">AccountOverview</a></li><li><a href="ChangePass.html">ChangePass</a></li><li><a href="EditProfile.html">EditProfile</a></li><li><a href="FreeJumbotron.html">FreeJumbotron</a></li><li><a href="FreePlan.html">FreePlan</a></li><li><a href="Home.html">Home</a></li><li><a href="HomeNavAndContentSigned.html">HomeNavAndContentSigned</a></li><li><a href="NavbarHome.html">NavbarHome</a></li><li><a href="PopularAlbumsHomeAndNavContent.html">PopularAlbumsHomeAndNavContent</a></li><li><a href="PopularArtistsHomeAndNavContent.html">PopularArtistsHomeAndNavContent</a></li><li><a href="PopularNewHomeAndNavContent.html">PopularNewHomeAndNavContent</a></li><li><a href="Premium.html">Premium</a></li><li><a href="PremiumJumbotron.html">PremiumJumbotron</a></li><li><a href="SignIn.html">SignIn</a></li><li><a href="SignUp.html">SignUp</a></li><li><a href="TopNav.html">TopNav</a></li><li><a href="WebPlayer.html">WebPlayer</a></li></ul><h3>Global</h3><ul><li><a href="global.html#Footer">Footer</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Sat Apr 11 2020 19:57:16 GMT+0200 (Eastern European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
