<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/NowPlayComponent/NowPlay.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/NowPlayComponent/NowPlay.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { Component } from "react";
import {
  Navbar,
  Nav,
  NavItem,
  Row,
  Col,
  UncontrolledDropdown,
  DropdownMenu,
  DropdownItem,
  Button,
  DropdownToggle,
} from "reactstrap";
import "./NowPlay.css";
import { NavLink, Redirect } from "react-router-dom";
import { Loading } from "./../Loading/LoadingComponent";
/**
 * This Component is for Displaying the playlist and following or unfollowing it
 */
class NowPlay extends Component {
  /**
   *
   * @param tempId this is for the ID of the user entered right now
   */
  constructor(props) {
    super(props);
    this.state = {
      isNavOpen: false,
      tempId: this.props.id.id,
    };
    this.state.toggleNav = this.toggleNav.bind(this);
    this.patchFollow = this.patchFollow.bind(this);
    this.state.handleLogout = this.handleLogout.bind(this);
    this.patchunFollow = this.patchunFollow.bind(this);
  }
  /**
   * isPlaylistFollowed returns if the users already follows this playlist or not
   */
  isPlaylistFollowed() {
    const Temp = this.props.currentPlaylist.currentPlaylist.followers.find(
      (element) => element == this.props.data_be.data_be._id
    );
    if (Temp !== undefined) {
      return true;
    } else {
      return false;
    }
  }

  /**
   * patchFollow function is for following the playlist
   */
  patchFollow() {
    if (!this.isPlaylistFollowed()) {
      this.props.patchedfollow(
        this.props.data_be.data_be._id,
        this.props.currentPlaylist.currentPlaylist._id
      );
    }
  }
  /**
   * patchunFollow function is for unfollowing the playlist
   */
  patchunFollow() {
    if (this.isPlaylistFollowed()) {
      this.props.patchedunfollow(
        this.props.data_be.data_be._id,
        this.props.currentPlaylist.currentPlaylist._id
      );
    }
  }

  toggleNav() {
    this.setState({
      isNavOpen: !this.state.isNavOpen,
      collapsed: !this.state.collapsed,
    });
  }
  /**
   *HandleLogout is for logging out of the user (It also clears the entire storage)
   */
  handleLogout() {
    this.props.handleLogout_BE();
  }
  render() {
    var redirect = "";
    if (this.props.isSignedIn.isSignedIn === null) {
      redirect = &lt;Redirect to="/webplayer/home" />;
    }
    if (this.props.currentPlaylist.isLoading) {
      return &lt;Loading />;
    } else {
      if (this.props.isSignedIn.isSignedIn === true) {
        let userName = (
          &lt;div>
            &lt;Button className="AccountItself">
              &lt;DropdownToggle nav caret className="WritingInsideAccountItself">
                &lt;i class="fa fa-user-secret">&lt;/i>
                {this.props.data_be.data_be.name}
              &lt;/DropdownToggle>
            &lt;/Button>
          &lt;/div>
        );

        let showUpgrade1 = "";
        if (this.props.data_be.data_be.premium === false) {
          showUpgrade1 = (
            &lt;NavItem>
              &lt;Button className="NextToAccount" color="success">
                &lt;NavLink className="NextToAccount" to="/premium">
                  UPGRADE
                &lt;/NavLink>
              &lt;/Button>
            &lt;/NavItem>
          );
        } else {
          showUpgrade1 = &lt;span>&lt;/span>;
        }

        let showUpgrade2 = "";
        if (this.props.data_be.data_be.premium === false) {
          showUpgrade2 = (
            &lt;NavLink className="StaticNavChild Disappear" to="/premium">
              Upgarde to Premium
            &lt;/NavLink>
          );
        } else {
          showUpgrade2 = &lt;span>&lt;/span>;
        }

        var SignedIn = "";
        if (this.props.isSignedIn.isSignedIn === true) {
          SignedIn = (
            &lt;div>
              &lt;div className="row">
                &lt;div className="WebPlayerHomeNav">
                  &lt;div className="container">
                    &lt;Navbar className="NavBar NavStyle" expand="md">
                      &lt;Nav className="mr-auto" href="/signup">
                        &lt;NavItem className="CustomNavitems">
                          &lt;Button className="CustomButton">
                            &lt;NavLink
                              className="nav-link SpecificallyForTheButton"
                              to="/webplayer/librarypage/playlists"
                            >
                              &lt;svg className="CustomSvg" viewBox="0 0 24 24">
                                &lt;path
                                  fill="currentColor"
                                  d="M15.54 21.15L5.095 12.23 15.54 3.31l.65.76-9.555 8.16 9.555 8.16"
                                >&lt;/path>{" "}
                              &lt;/svg>
                            &lt;/NavLink>
                          &lt;/Button>
                        &lt;/NavItem>
                        &lt;NavItem className="CustomNavitems">
                          &lt;Button className="CustomButton">
                            &lt;NavLink
                              className="nav-link SpecificallyForTheButton"
                              to="/webplayer/search"
                            >
                              &lt;svg className="CustomSvg" viewBox="0 0 24 24">
                                &lt;path
                                  fill="currentColor"
                                  d="M7.96 21.15l-.65-.76 9.555-8.16L7.31 4.07l.65-.76 10.445 8.92"
                                >&lt;/path>
                              &lt;/svg>
                            &lt;/NavLink>
                          &lt;/Button>
                        &lt;/NavItem>
                      &lt;/Nav>
                      &lt;Nav navbar className="ml-auto">
                        {showUpgrade1}
                        &lt;NavItem>
                          &lt;UncontrolledDropdown nav inNavbar>
                            {userName}
                            &lt;DropdownMenu className="StaticNav" right>
                              &lt;DropdownItem className="StaticNavChildContainer">
                                &lt;NavLink
                                  className="StaticNavChild"
                                  to="/account/overview"
                                >
                                  Account
                                &lt;/NavLink>
                              &lt;/DropdownItem>
                              &lt;DropdownItem className="StaticNavChildContainer">
                                {showUpgrade2}
                              &lt;/DropdownItem>
                              &lt;DropdownItem className="StaticNavChildContainer">
                                &lt;Button
                                  onClick={() => {
                                    this.handleLogout();
                                  }}
                                  className="StaticNavChild"
                                >
                                  Log out
                                &lt;/Button>
                              &lt;/DropdownItem>
                            &lt;/DropdownMenu>
                          &lt;/UncontrolledDropdown>
                        &lt;/NavItem>
                      &lt;/Nav>
                    &lt;/Navbar>
                  &lt;/div>
                &lt;/div>
              &lt;/div>
            &lt;/div>
          );
        }
      }
      return (
        &lt;div>
          {this.props.isSignedIn.isSignedIn === true ? (
            &lt;div className=" DivStyle LibraryPageBody">
              {SignedIn}
              &lt;section className="JumbostyleWithPadding">
                &lt;div className="DivStyle MainViewContainer">
                  &lt;section className="contentSection">
                    &lt;div className=" DivStyle container fluid">
                      &lt;div className=" DivStyle row general">
                        &lt;div className="col-xs-12 col-lg-3 col-xl-4">
                          &lt;div>
                            &lt;header className="TrackListHeader">
                              &lt;div>
                                &lt;div draggable="true">
                                  &lt;div className="TrackListHeader media object">
                                    &lt;div
                                      class=" TrackListHeader media object hoverable "
                                      aria-hidden="true"
                                    >
                                      &lt;div
                                        className="cover art shadow"
                                        aria-hidden="true"
                                      >
                                        &lt;div class=" cover art icon">
                                          &lt;svg
                                            width="80"
                                            height="81"
                                            viewBox="0 0 80 81"
                                            xmlns="http://www.w3.org/2000/svg"
                                          >
                                            &lt;title>Playlist Icon&lt;/title>
                                            &lt;path
                                              d="M25.6 11.565v45.38c-2.643-3.27-6.68-5.37-11.2-5.37-7.94 0-14.4 6.46-14.4 14.4s6.46 14.4 14.4 14.4 14.4-6.46 14.4-14.4v-51.82l48-10.205V47.2c-2.642-3.27-6.678-5.37-11.2-5.37-7.94 0-14.4 6.46-14.4 14.4s6.46 14.4 14.4 14.4S80 64.17 80 56.23V0L25.6 11.565zm-11.2 65.61c-6.176 0-11.2-5.025-11.2-11.2 0-6.177 5.024-11.2 11.2-11.2 6.176 0 11.2 5.023 11.2 11.2 0 6.174-5.026 11.2-11.2 11.2zm51.2-9.745c-6.176 0-11.2-5.024-11.2-11.2 0-6.174 5.024-11.2 11.2-11.2 6.176 0 11.2 5.026 11.2 11.2 0 6.178-5.026 11.2-11.2 11.2z"
                                              fill="currentColor"
                                              fill-rule="evenodd"
                                            >&lt;/path>
                                          &lt;/svg>
                                        &lt;/div>
                                        &lt;div className="OneOpacity">
                                          &lt;img
                                            alt=""
                                            className="cover art image"
                                            src={
                                              this.props.currentPlaylist
                                                .currentPlaylist.image
                                            }
                                          />
                                          &lt;div className="overlay">&lt;/div>
                                          &lt;button class="cover art playback ButtonHover">
                                            &lt;svg
                                              class="cover art playback icon play"
                                              viewBox="0 0 85 100"
                                            >
                                              &lt;path
                                                fill="currentColor"
                                                d="M81 44.6c5 3 5 7.8 0 10.8L9 98.7c-5 3-9 .7-9-5V6.3c0-5.7 4-8 9-5l72 43.3z"
                                              >
                                                &lt;title>PLAY&lt;/title>
                                              &lt;/path>
                                            &lt;/svg>
                                          &lt;/button>
                                        &lt;/div>
                                      &lt;/div>
                                    &lt;/div>
                                  &lt;/div>
                                  &lt;div className="TrackListHeader mo info">
                                    &lt;div clasName="textMenuWrapper">
                                      &lt;div className="TrackListHeader mo info Name">
                                        &lt;span dir="auto">
                                          {
                                            this.props.currentPlaylist
                                              .currentPlaylist.name
                                          }
                                        &lt;/span>
                                      &lt;/div>
                                      &lt;div className="mo meta ellipsis-one-line">
                                        &lt;span>
                                          &lt;a dir="auto" href="/user/spotify">
                                            Spotify
                                          &lt;/a>
                                        &lt;/span>
                                      &lt;/div>
                                    &lt;/div>
                                  &lt;/div>
                                &lt;/div>
                              &lt;/div>{" "}
                              &lt;div className=" TrackListHeader Body">
                                &lt;div className="TrackListHeader Body entity Name">
                                  &lt;h2>
                                    {
                                      this.props.currentPlaylist.currentPlaylist
                                        .name
                                    }
                                  &lt;/h2>
                                  &lt;span className="TrackListHeader Body by">
                                    &lt;a
                                      data-owner-uri="spotify:user:spotify"
                                      href="/user/spotify"
                                    >
                                      By Spotify
                                    &lt;/a>
                                  &lt;/span>
                                &lt;/div>
                                &lt;div className="TrackListHeader Body Inverter">
                                  &lt;div className="TrackListHeader Body Inverter Actions">
                                    &lt;button className="signupbtn" type="submit">
                                      PLAY
                                    &lt;/button>
                                    &lt;div className="TrackListHeader ExtraButtons">
                                      &lt;Button
                                        className="Jumbostyle"
                                        onClick={this.patchFollow}
                                        hidden={this.isPlaylistFollowed()}
                                      >
                                        &lt;i class="fa fa-heart">&lt;/i>
                                      &lt;/Button>
                                      &lt;Button
                                        className="Jumbostyle"
                                        onClick={this.patchunFollow}
                                        hidden={!this.isPlaylistFollowed()}
                                      >
                                        &lt;i class="fa fa-thumbs-down">&lt;/i>{" "}
                                      &lt;/Button>
                                    &lt;/div>
                                    &lt;p>
                                      {
                                        this.props.currentPlaylist
                                          .currentPlaylist.tracks.length
                                      }{" "}
                                      Songs
                                    &lt;/p>
                                  &lt;/div>
                                &lt;/div>
                              &lt;/div>
                            &lt;/header>
                          &lt;/div>
                        &lt;/div>{" "}
                        &lt;div class="DivStyle col-xs-12 col-lg-10 col-xl-8">
                          {this.props.currentPlaylist.currentPlaylist.tracks
                            .length === 0 ? (
                            &lt;div className="NolikedLevelZero">
                              &lt;div className="NolikedLevelOne">
                                &lt;div className="NolikedLevelTwo">
                                  &lt;div className="row TakeitDown">
                                    &lt;div className="col-xs-12 NolikedLevelThree">
                                      &lt;div className="SomeheighPlease">
                                        &lt;svg
                                          width="80"
                                          height="79"
                                          viewBox="0 0 80 79"
                                          xmlns="http://www.w3.org/2000/svg"
                                        >
                                          &lt;title>Album&lt;/title>
                                          &lt;path
                                            d="M76.8 3.138v72.126H3.2V3.138h73.6zM80 0H0v78.398h80V0zM40 20.8c-9.72 0-17.6 7.88-17.6 17.6C22.4 48.12 30.28 56 40 56c9.72 0 17.6-7.88 17.6-17.6 0-9.72-7.88-17.6-17.6-17.6zm0 3.2c7.94 0 14.4 6.46 14.4 14.4S47.94 52.8 40 52.8s-14.4-6.46-14.4-14.4S32.06 24 40 24z"
                                            fill="currentColor"
                                            fill-rule="evenodd"
                                          >&lt;/path>
                                        &lt;/svg>
                                      &lt;/div>
                                      &lt;Row>
                                        &lt;Col md={12}>
                                          &lt;h1 class="YourFirstInAll">
                                            Songs youâ€™ve liked live here{" "}
                                          &lt;/h1>
                                          &lt;h4 class="_1bfd68987bbac2dd824e5db895bd3c57-scss">
                                            Find more of the songs you love in
                                            Browse and save to your Liked Songs.
                                          &lt;/h4>
                                          &lt;button
                                            class="_2221af4e93029bedeab751d04fab4b8b-scss _1edf52628d509e6baded2387f6267588-scss _4a19a959428c34075eef50bd44ab468f-scss"
                                            type="button"
                                          >
                                            DISCOVER
                                          &lt;/button>
                                        &lt;/Col>
                                      &lt;/Row>
                                    &lt;/div>
                                  &lt;/div>
                                &lt;/div>
                              &lt;/div>
                            &lt;/div>
                          ) : (
                            &lt;div>
                              {this.props.currentPlaylist.currentPlaylist.tracks.map(
                                (Song) => {
                                  return (
                                    &lt;section className="TrackListContainer">
                                      &lt;ol className="olstyle TrackListContainer Orderedlist">
                                        &lt;div className="Div textMenuWrapper">
                                          &lt;div draggable="true">
                                            &lt;li
                                              tabindex="0"
                                              role="button"
                                              aria-pressed="false"
                                              className="listyle TrackListRow"
                                            >
                                              &lt;div className="DivStyle TrackListCol PositionOuter">
                                                &lt;div
                                                  role="button"
                                                  className="DivStyle TrackListCol PositionOuter TopAlign PlayPause"
                                                >
                                                  &lt;svg
                                                    class="icon-play"
                                                    viewBox="0 0 85 100"
                                                  >
                                                    &lt;path
                                                      fill="currentColor"
                                                      d="M81 44.6c5 3 5 7.8 0 10.8L9 98.7c-5 3-9 .7-9-5V6.3c0-5.7 4-8 9-5l72 43.3z"
                                                    >
                                                      &lt;title>PLAY&lt;/title>
                                                    &lt;/path>
                                                  &lt;/svg>
                                                &lt;/div>
                                                &lt;div
                                                  role="button"
                                                  className="DivStyle TrackListCol PositionOuter  Position"
                                                >
                                                  &lt;i className="fa fa-music">&lt;/i>
                                                &lt;/div>
                                              &lt;/div>
                                              &lt;div className="DivStyle TrackListCol name">
                                                &lt;div className="DivStyle TrackListCol TopAlign ">
                                                  &lt;div className="DivStyle InOneLine TrackListName">
                                                    {Song.name}{" "}
                                                  &lt;/div>
                                                  &lt;div className="DivStyle TrackListName SecondLine">
                                                    By{" "}
                                                    {Song.artists.map(
                                                      (artisis) => {
                                                        return artisis.name;
                                                      }
                                                    )}{" "}
                                                  &lt;/div>
                                                &lt;/div>
                                              &lt;/div>
                                              &lt;div className="DivStyle TrackListCol more">
                                                &lt;div className="DivStyle TrackListCol TopAlign">
                                                  &lt;div className="DivStyle TrackListRow more textMenuWrapper">
                                                    &lt;button className="buttonstyle MultiButton">
                                                      &lt;i class="fa fa-ellipsis-h">&lt;/i>
                                                    &lt;/button>
                                                  &lt;/div>
                                                &lt;/div>
                                              &lt;/div>
                                              &lt;div className="DivStyle TrackLisCol Duration">
                                                &lt;div className="DivStyle TrackListHeader Body by">
                                                  &lt;span>3:21&lt;/span>
                                                &lt;/div>
                                              &lt;/div>
                                            &lt;/li>
                                          &lt;/div>
                                        &lt;/div>
                                      &lt;/ol>
                                    &lt;/section>
                                  );
                                }
                              )}
                            &lt;/div>
                          )}
                        &lt;/div>
                      &lt;/div>
                    &lt;/div>
                  &lt;/section>
                &lt;/div>
              &lt;/section>
            &lt;/div>
          ) : (
            &lt;div>{redirect}&lt;/div>
          )}
        &lt;/div>
      );
    }
  }
}
export default NowPlay;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AccountOverview.html">AccountOverview</a></li><li><a href="ChangePass.html">ChangePass</a></li><li><a href="EditProfile.html">EditProfile</a></li><li><a href="FreeJumbotron.html">FreeJumbotron</a></li><li><a href="FreePlan.html">FreePlan</a></li><li><a href="Home.html">Home</a></li><li><a href="HomeNavAndContentSigned.html">HomeNavAndContentSigned</a></li><li><a href="NavbarHome.html">NavbarHome</a></li><li><a href="NowPlay.html">NowPlay</a></li><li><a href="PlayLikedSongs.html">PlayLikedSongs</a></li><li><a href="PopularAlbumsHomeAndNavContent.html">PopularAlbumsHomeAndNavContent</a></li><li><a href="PopularArtistsHomeAndNavContent.html">PopularArtistsHomeAndNavContent</a></li><li><a href="PopularNewHomeAndNavContent.html">PopularNewHomeAndNavContent</a></li><li><a href="Premium.html">Premium</a></li><li><a href="PremiumJumbotron.html">PremiumJumbotron</a></li><li><a href="SignIn.html">SignIn</a></li><li><a href="SignUp.html">SignUp</a></li><li><a href="TopNav.html">TopNav</a></li><li><a href="WebPlayer.html">WebPlayer</a></li></ul><h3>Global</h3><ul><li><a href="global.html#addAlbum">addAlbum</a></li><li><a href="global.html#addArtist">addArtist</a></li><li><a href="global.html#addCategories">addCategories</a></li><li><a href="global.html#addCurrentPlaylist">addCurrentPlaylist</a></li><li><a href="global.html#addUser">addUser</a></li><li><a href="global.html#addUserData">addUserData</a></li><li><a href="global.html#addUserId">addUserId</a></li><li><a href="global.html#addUserPlaylist">addUserPlaylist</a></li><li><a href="global.html#CurrentLoading">CurrentLoading</a></li><li><a href="global.html#fetchAlbum">fetchAlbum</a></li><li><a href="global.html#fetchArtist">fetchArtist</a></li><li><a href="global.html#fetchUserData">fetchUserData</a></li><li><a href="global.html#fetchUserPlaylist">fetchUserPlaylist</a></li><li><a href="global.html#Footer">Footer</a></li><li><a href="global.html#getArtist">getArtist</a></li><li><a href="global.html#getEmail">getEmail</a></li><li><a href="global.html#getPassword">getPassword</a></li><li><a href="global.html#handleCurrentAlbums">handleCurrentAlbums</a></li><li><a href="global.html#handleCurrentArtists">handleCurrentArtists</a></li><li><a href="global.html#handleCurrentPlayList">handleCurrentPlayList</a></li><li><a href="global.html#handleLoginId">handleLoginId</a></li><li><a href="global.html#handleLogout_BE">handleLogout_BE</a></li><li><a href="global.html#handleLogoutId">handleLogoutId</a></li><li><a href="global.html#handleSignIn_BE">handleSignIn_BE</a></li><li><a href="global.html#LogOut_BE">LogOut_BE</a></li><li><a href="global.html#makeSignupRedirectable">makeSignupRedirectable</a></li><li><a href="global.html#postFacebookLogin">postFacebookLogin</a></li><li><a href="global.html#postFeedback">postFeedback</a></li><li><a href="global.html#removeUserId">removeUserId</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Sat Apr 11 2020 21:30:45 GMT+0200 (Eastern European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
